(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-group-detail"],{"30ed":function(t,a,e){"use strict";var o;e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return i})),e.d(a,"a",(function(){return o}));var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{},[e("v-uni-view",{staticClass:"padding bg-white flex solid-bottom no-wrap"},[e("v-uni-view",{staticClass:"margin-top-bottom cu-avatar xl radius margin-left",style:{backgroundImage:"url("+t.groupInfo.avatar+")"}}),e("v-uni-view",{staticClass:"margin-top-bottom margin-left flex"},[e("v-uni-view",{staticClass:"margin-left-xs content margin-top-xs"},[e("v-uni-view",{staticClass:"text-xl"},[e("v-uni-text",{staticClass:"text-bold text-black"},[t._v(t._s(t.groupInfo.name))])],1),e("v-uni-view",{staticClass:"text-xs margin-top-xs",staticStyle:{width:"100%"}},[e("v-uni-text",{staticClass:"uni-lastmsg text-bold text-black"},[t._v(t._s(t.groupInfo.description))])],1)],1)],1)],1),e("v-uni-view",{staticClass:"bg-white"},[e("v-uni-view",{staticClass:"cu-bar bg-white margin-top-xs"},[e("v-uni-view",{staticClass:"margin-left "},[t._v("群组成员")])],1),e("v-uni-view",{staticClass:"bg-white margin-left margin-right"},[e("v-uni-view",{staticClass:"grid grid-square margin-bottom text-center col-5"},t._l(t.groupMembers,(function(a,o){return e("v-uni-view",{key:o,staticClass:"bg-img bg-blue",style:{backgroundImage:"url("+t.id_to_avatar[a.user_id]+")"}})})),1)],1)],1),e("v-uni-view",{staticClass:"padding flex flex-direction"},[e("v-uni-button",{staticClass:"cu-btn bg-white lg",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goToChat(t.groupInfo.group_id)}}},[t._v("开始聊天")]),e("v-uni-button",{staticClass:"cu-btn bg-red margin-tb-sm lg"},[t._v("退出群组")])],1)],1)},i=[]},"4a90":function(t,a,e){var o=e("f999");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=e("4f06").default;n("6bb1e21a",o,!0,{sourceMap:!1,shadowMode:!1})},5579:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o={data:function(){return{groupInfo:{group_id:123,avatar:"",name:"Iron Man",description:"一个钢铁侠爱好者聚集地"},groupMembers:[],id_to_avatar:{}}},onLoad:function(t){this.goToChat=getApp().globalData.goToChat,this.getGroupInfo(t.group_id),this.getGroupMember(t.group_id)},methods:{getGroupInfo:function(t){var a=getApp().globalData.apiUrl+"/info/group",e=this;uni.request({url:a,method:"GET",data:{account:getApp().globalData.accountInfo.account,cookie:getApp().globalData.accountInfo.cookie,target:t},dataType:"json",success:function(t){var a=t.data;200==a.code?(a=a.data,a.avatar=null!=a.avatar?a.avatar:getApp().globalData.defaultAvatar,e.groupInfo=a):401==a.code||a.code}})},getGroupMember:function(t){var a=getApp().globalData.apiUrl+"/info/groupMembers",e=this;uni.request({url:a,method:"GET",data:{account:getApp().globalData.accountInfo.account,cookie:getApp().globalData.accountInfo.cookie,group_id:t},dataType:"json",success:function(t){var a=t.data;if(200==a.code){a=a.data,e.groupMembers.push(a.owner),e.id_to_avatar[a.owner.user_id]=null!=a.owner.avatar?a.owner.avatar:getApp().globalData.defaultAvatar;for(var o=0;o<a.admin.length;o++)e.id_to_avatar[a.admin[o].user_id]=null!=a.admin[o].avatar?a.admin[o].avatar:getApp().globalData.defaultAvatar,e.groupMembers.push(a.admin[o]);for(o=0;o<a.member.length;o++)e.id_to_avatar[a.member[o].user_id]=null!=a.member[o].avatar?a.member[o].avatar:getApp().globalData.defaultAvatar,e.groupMembers.push(a.member[o])}else 401==a.code||a.code}})}}};a.default=o},"56c7":function(t,a,e){"use strict";var o=e("4a90"),n=e.n(o);n.a},"71b8":function(t,a,e){"use strict";e.r(a);var o=e("5579"),n=e.n(o);for(var i in o)"default"!==i&&function(t){e.d(a,t,(function(){return o[t]}))}(i);a["default"]=n.a},"8a05":function(t,a,e){"use strict";e.r(a);var o=e("30ed"),n=e("71b8");for(var i in n)"default"!==i&&function(t){e.d(a,t,(function(){return n[t]}))}(i);e("56c7");var r,u=e("f0c5"),s=Object(u["a"])(n["default"],o["b"],o["c"],!1,null,"5f766517",null,!1,o["a"],r);a["default"]=s.exports},f999:function(t,a,e){var o=e("24fb");a=o(!1),a.push([t.i,".margin-top-bottom[data-v-5f766517]{margin-top:%?20?%;margin-bottom:%?20?%}.uni-lastmsg[data-v-5f766517]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.no-wrap[data-v-5f766517]{-webkit-flex-wrap:nowrap;flex-wrap:nowrap}",""]),t.exports=a}}]);